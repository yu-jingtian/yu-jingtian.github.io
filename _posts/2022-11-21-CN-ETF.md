---
title: "Portfolio of ETFs in Shanghai and Shenzhen"
date: 2022-11-21
author: Jingtian Yu
use_math: true
---

In this post, I apply the efficient frontier calculation to tradable funds in Shanghai and Shenzhen stock exchange.

**Data Preparation**

*Data source*
- Links to get the list of funds: [Shanghai](http://etf.sse.com.cn/fundlist/), [Shenzhen](http://www.szse.cn/market/product/list/etfList/index.html)
- ETF列表：[上海](http://etf.sse.com.cn/fundlist/)，[深圳](http://www.szse.cn/market/product/list/etfList/index.html)

*Data cleaning*
- In total we have 902 funds (620 from Shanghai, 282 from Shenzhen), including ETFs, LOFs, REITs, and etc. 
- On [yahoo finance](https://finance.yahoo.com/), we can only get data of 818 funds. 
- Only 664 of them has return data with less than 3 missing data points.
- Funds with missingness more than 3 are deleted, while others are dealt with mean imputation.

- 我们共有902只基金（上海620只，深圳282只），包括ETF、LOF、REITs等。
- 在[雅虎财金](https://finance.yahoo.com/)上，我们只能获取818个基金的数据。
- 其中只有664只的回报率数据缺失值少于3个。
- 缺失值数量超过3的基金被删除，而剩余缺失值则用均值填充。

**2022-11-21 Updates**

The portfolio that maximizes the Sharpe Ratio is consist of 10 funds (only these 10 have none zero weights after optimization), and the corresponding Sharpe Ratio is 19.19%. For the portfolio that minimizes the Volatility is consist of 7 funds, and Sharpe Ratio is 6.40%.

The fund with highest weight in both portfolio is [511360.SS](https://finance.yahoo.com/quote/511360.SS/) (Hft Csi Short Term Note Etf). For more information, please look at the tables below.

使夏普比率最大化的投资组合（Max SR）由10只基金组成（优化后只有这10只基金是非零权重），对应的夏普比率为19.19%。而最小化波动率的投资组合（Min Vol），由7只基金组成，夏普比率为6.40%。

两个投资组合中权重最高的基金是[511360.SS](http://stock.finance.sina.com.cn/fundInfo/view/FundInfo_CYRJG.php?symbol=511360)（海富通中证短融ETF）。更多信息，请见下表。

*Background information*

| Start Date   | End Date   |   Risk Free Rate |
|:-------------|:-----------|-----------------:|
| 2022-10-21   | 2022-11-20 |             0.03 |

*Portfolio information*

| Portfolio   |   Sharpe Ratio |   Returns (%) |   Volatility (%) |
|:------------|---------------:|--------------:|-----------------:|
| Max SR      |          19.19 |          9.02 |             0.47 |
| Min Vol     |          6.40  |          1.28 |             0.2  |


*Composition details*

| Portfolio Composition (%)   |   510270.SS |   511270.SS |   511310.SS |   511360.SS |   512190.SS |   513800.SS |   515190.SS |   562390.SS |   159649.SZ |   159913.SZ |
|:----------------------------|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|
| Max SR                      |           2 |          16 |          15 |          45 |           3 |           1 |           2 |           2 |          11 |           1 |

| Portfolio Composition (%)   |   510270.SS |   511010.SS |   511220.SS |   511360.SS |   512190.SS |   562390.SS |   159816.SZ |
|:----------------------------|------------:|------------:|------------:|------------:|------------:|------------:|------------:|
| Min Vol                     |           2 |          16 |           3 |          70 |           1 |           1 |           5 |

*Return/Volatility scatter plot*

![]({{ '/images/EF_plot1669021.976.jpg' | absolute_url }}){: .align-center}

For coding details, see [this github post](https://github.com/yu-jingtian/fin_py/tree/main/EFT_CN).